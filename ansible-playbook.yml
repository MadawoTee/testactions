# ---
# - hosts: ec2_instance
#   remote_user: ec2_user
#   gather_facts: no
- name: Install Docker on EC2 instance
  hosts: ec2_instance
  gather_facts: no
  become: yes
  vars:
    ansible_ssh_private_key_file: /home/runner/.ssh/id_rsa
    ansible_python_interpreter: /usr/bin/python3
    ansible_user: ec2-user
    ansible_ssh_common_args: '-o StrictHostKeyChecking=no'
  tasks:
    - name: Install Docker
      become: yes
      apt:
        name: docker.io
        state: present

    - name: Run Docker Container
      become: yes
      docker_container:
        name: my-container
        image: your-docker-image:tag
        state: started
